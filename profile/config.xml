<?xml version="1.0" encoding="utf-8"?>
<image schemaversion="8.0" name="geckoforge-leap156-kde">
  <description type="system">
    <author>Jay-Alexander Elliot</author>
    <contact>alexander.elliot.it@protonmail.com</contact>
    <specification>Leap 15.6 KDE Plasma live image with Snapper and NVIDIA repo preconfigured.</specification>
  </description>

  <preferences>
    <type image="iso" primary="true" flags="overlay" mediacheck="true"/>
    <version>0.1.0</version>
    <rpm-excludedocs>true</rpm-excludedocs>
  </preferences>

  <repository type="rpm-md"><source path="http://download.opensuse.org/distribution/leap/15.6/repo/oss/"/></repository>
  <repository type="rpm-md"><source path="http://download.opensuse.org/distribution/leap/15.6/repo/non-oss/"/></repository>
  <repository type="rpm-md"><source path="http://download.opensuse.org/update/leap/15.6/oss/"/></repository>
  <repository type="rpm-md"><source path="http://download.opensuse.org/update/leap/15.6/non-oss/"/></repository>
  <repository type="rpm-md"><source path="https://download.nvidia.com/opensuse/leap/15.6/"/></repository>

  <packages type="bootstrap">
    <package name="aaa_base"/>
    <package name="filesystem"/>
    <package name="glibc"/>
    <package name="rpm"/>
    <package name="zypper"/>
    <package name="openSUSE-release"/>
  </packages>

  <packages type="image">
    <!-- Kernel and Boot -->
    <package name="kernel-default"/>
    <package name="dracut"/>

    <!-- Networking -->
    <package name="NetworkManager"/>
    <package name="firewalld"/>

    <!-- Security -->
    <package name="apparmor-parser"/>

    <!-- Btrfs and Snapper -->
    <package name="snapper"/>
    <package name="btrfsprogs"/>

    <!-- Flatpak -->
    <package name="flatpak"/>

    <!-- KDE Plasma Desktop -->
    <package name="patterns-kde-kde_plasma"/>
    <package name="plasma5-desktop"/>
    <package name="plasma5-workspace"/>
    <package name="sddm"/>

    <!-- KDE Applications -->
    <package name="dolphin"/>
    <package name="konsole"/>
    <package name="kate"/>
    <package name="gwenview"/>
    <package name="okular"/>
    <package name="ark"/>
    <package name="spectacle"/>

    <!-- KDE System Integration -->
    <package name="plasma-nm"/>
    <package name="plasma-pa"/>
    <package name="kscreen"/>
    <package name="powerdevil"/>
    <package name="kwalletmanager"/>
    <package name="bluedevil5"/>

    <!-- Shell and CLI Tools -->
    <package name="bash-completion"/>
    <package name="zsh"/>
    <package name="zsh-completions"/>
    <package name="curl"/>
    <package name="vim"/>

    <!-- Fonts -->
    <package name="liberation-fonts"/>
    <package name="dejavu-fonts"/>
    <package name="noto-sans-fonts"/>
    <package name="noto-emoji-fonts"/>
    <package name="fontconfig"/>

    <!-- Kvantum Qt theme engine for JuxTheme -->
    <package name="kvantum-qt5"/>
    <package name="kvantum-qt6"/>

    <!-- Email Client -->
    <package name="MozillaThunderbird"/>
    <package name="MozillaThunderbird-translations-common"/>

    <!-- Laptop Power Management -->
    <package name="tlp"/>
    <package name="tlp-rdw"/>
    <package name="thermald"/>
    <package name="upower"/>
    <package name="acpid"/>

    <!-- WiFi and Bluetooth Firmware -->
    <package name="kernel-firmware-all"/>
    <package name="bluez"/>
    <package name="bluez-firmware"/>

    <!-- NVIDIA Hybrid Graphics (Optimus) Support -->
    <package name="suse-prime"/>
    <package name="plasma5-applet-suse-prime"/>

    <!-- Audio Stack (PipeWire for modern openSUSE) -->
    <package name="pipewire"/>
    <package name="pipewire-pulseaudio"/>
    <package name="pipewire-alsa"/>
    <package name="wireplumber"/>
  </packages>

  <!-- Docker is installed post-deployment via scripts/setup-docker.sh to ensure proper daemon configuration -->
  <!-- First-boot scripts and overlays are handled via root/ directory and config.sh -->

</image>
